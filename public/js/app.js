//Upon clicking the login button on login form:
// - send an AJAX request to the server for the authToken & "Bearer" method


//How do you make an AJAX call without jQuery????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????
function passTheToken(authToken) {
  let tokenStuff = {
    url: "/login",
    method: 'POST',
    // headers: {"Authorization": localStorage.getItem(authToken)}
    headers: {"Authorization": "Basic " + authToken}
  };
  $.ajax(tokenStuff);
}


function pleaseWork() {
  let auth = $('#username').val() + ':' + $('#password').val();
  auth = btoa(auth);
  passTheToken(auth);
}

$(document).ready(function(){
  $('.login-button').click(function(e){
   e.preventDefault();
    pleaseWork();
    console.log("ak;sglh;aklgh;");
  });
})

//Where tf do I put this????????????:
// GET /resource HTTP/1.1
// Host: server.example.com
// Authorization: Bearer eyJhbGciOiJIUzI1NiIXVCJ9...TJVA95OrM7E20RMHrHDcEfxjoYZgeFONFh7HgQ

// cookie-parser???????????

//Test Fxn.:
// function pleaseWork() {
//     //- e.preventDefault();
//     alert("Button clicked.");
//   };



// function createAjaxRequest() {
//   var request;

//   if (window.XMLHttpRequest) {
//     // Mozilla, Safari, ...
//     request = new XMLHttpRequest();
//   }
//   else if (window.ActiveXObject) {
//     // IE
//     try {
//       request = new ActiveXObject('Msxml2.XMLHTTP');
//     }
//     catch (err) {
//       try {
//         request = new ActiveXObject('Microsoft.XMLHTTP');
//       }
//       catch (err) {
//       }
//     }
//   }
//   return request;
// }

// var request = createAjaxRequest();
//   request.open('POST', solrURL + '?' + urlParamsString);
//   request.send(authToken);

//   request.onreadystatechange = function() {
//     if(request.readyState === 4) {
//       // done
//       if(request.status) { // complete
//         console.log('AJAX COMPLETE');
//         try {
//           var res = JSON.parse(request.responseText);
//             if(res.error && res.error.code === 400) {
//               cb(res.err);
//             }
//             else { cb(null, res); }
//         }
//         catch (e) { cb(e); }
//       }
//     }
//   };

